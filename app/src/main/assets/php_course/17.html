<!DOCTYPE html>
<!-- saved from url=(0055)https://www.tutorialspoint.com/sql/sql-update-query.htm -->
<html style="" class=" js no-touch csstransforms3d csstransitions"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- Basic -->

    <title>PHP - Sessions</title>
    <meta name="description" content="PHP Environment Setup - A simple and short PHP tutorial and complete reference manual for all built-in PHP functions. This tutorial is designed for beginners to advanced developers. You will learn PHP Built-in Function, Predefined Variables Examples, Object Oriented PHP, Numbers, Scalars, Arrays, Hash File I/O, IF, ELSEIF, Do, While Loops, Operators, Regular Expressions, GET, POST, Subroutines, Coding Standard, Modules, File Management, Socket Communication, Reference, Special Variables, Syntax Overview, Form Validation, Advanced PHP, Library, Web Design, PayPal Integration, MySQL Login, Ajax Search, Ajax XML Parser, Ajax Auto Complete Search, Ajax RSS Feed Example, XML Introduction, Simple XML, Simple XML GET, SAX Parser Example, DOM Parser Example, Frame Works, Core php vs frame works php, Design Patterns.">
    <meta name="keywords" content="Learning, PHP, Programming, Language, Built-in Function, Library, Web Design, Object Oriented PHP, PHP Variables, Scalars, Arrays, Hash, File I/O, Looping, Regular Expressions, Subroutines, Coding Standard, Writing Modules, File Management, Socket, Examples, Reference, Special Variables, Syntax Overview, Advanced PHP, Tutorial, Tutorials, Operators, GET, POST, Predefined, Form Validation, PayPal Integration, MySQL Login, Ajax Search, Ajax XML Parser, Ajax Auto Complete Search, Ajax RSS Feed Example, XML Introduction, Simple XML, Simple XML GET, SAX Parser Example, DOM Parser Example, Frame Works, Core php vs frame works php, Design Patterns.">




    <meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">


<link rel="stylesheet" href="./17_files/style-min.css">








</head>
<body style="">


<div style="clear:both;"></div>
<div role="main" class="main">
<div class="container">
<div class="row">

<!-- PRINTING STARTS HERE -->
<div class="row">
<div class="content">
    <div class="col-md-7 middle-col">
        <h1>PHP - Sessions</h1>

        <div class="clearer"></div>
        <hr>
        <p>An alternative way to make data accessible across the various pages of an entire website is to use a PHP Session.</p>
        <p>A session creates a file in a temporary directory on the server where registered session variables and their values are stored. This data will be available to all pages on the site during that visit.</p>
        <p>The location of the temporary file is determined by a setting in the <b>php.ini</b> file called <b>session.save_path</b>. Before using any session variable make sure you have setup this path.</p>
        <p>When a session is started following things happen −</p>
        <ul class="list">
            <li><p>PHP first creates a unique identifier for that particular session which is a random string of 32 hexadecimal numbers such as 3c7foj34c3jj973hjkop2fc937e3443.</p></li>
            <li><p>A cookie called <b>PHPSESSID</b> is automatically sent to the user's computer to store unique session identification string.</p></li>
            <li><p>A file is automatically created on the server in the designated temporary directory and bears the name of the unique identifier prefixed by sess_ ie sess_3c7foj34c3jj973hjkop2fc937e3443.</p></li>
        </ul>
        <p>When a PHP script wants to retrieve the value from a session variable, PHP automatically gets the unique session identifier string from the PHPSESSID cookie and then looks in its temporary directory for the file bearing that name and a validation can be done by comparing both values.</p>
        <p>A session ends when the user loses the browser or after leaving the site, the server will terminate the session after a predetermined period of time, commonly 30 minutes duration.</p>
        <h2>Starting a PHP Session</h2>
        <p>A PHP session is easily started by making a call to the <b>session_start()</b> function.This function first checks if a session is already started and if none is started then it starts one. It is recommended to put the call to <b>session_start()</b> at the beginning of the page.</p>
        <p>Session variables are stored in associative array called <b>$_SESSION[]</b>. These variables can be accessed during lifetime of a session.</p>
        <p>The following example starts a session then register a variable called <b>counter</b> that is incremented each time the page is visited during the session.</p>
        <p>Make use of <b>isset()</b> function to check if session variable is already set or not.</p>
        <p>Put this code in a test.php file and load this file many times to see the result −</p>
         <pre class="prettyprint notranslate prettyprinted" style=""><span class="pun">&lt;?</span><span class="pln">php
   session_start</span><span class="pun">();</span><span class="pln">

   </span><span class="kwd">if</span><span class="pun">(</span><span class="pln"> isset</span><span class="pun">(</span><span class="pln"> $_SESSION</span><span class="pun">[</span><span class="str">'counter'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      $_SESSION</span><span class="pun">[</span><span class="str">'counter'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
   </span><span class="pun">}</span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      $_SESSION</span><span class="pun">[</span><span class="str">'counter'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
   </span><span class="pun">}</span><span class="pln">

   $msg </span><span class="pun">=</span><span class="pln"> </span><span class="str">"You have visited this page "</span><span class="pun">.</span><span class="pln">  $_SESSION</span><span class="pun">[</span><span class="str">'counter'</span><span class="pun">];</span><span class="pln">
   $msg </span><span class="pun">.=</span><span class="pln"> </span><span class="str">"in this session."</span><span class="pun">;</span><span class="pln">
</span><span class="pun">?&gt;</span><span class="pln">

</span><span class="tag">&lt;html&gt;</span><span class="pln">

   </span><span class="tag">&lt;head&gt;</span><span class="pln">
      </span><span class="tag">&lt;title&gt;</span><span class="pln">Setting up a PHP session</span><span class="tag">&lt;/title&gt;</span><span class="pln">
   </span><span class="tag">&lt;/head&gt;</span><span class="pln">

   </span><span class="tag">&lt;body&gt;</span><span class="pln">
      </span><span class="pun">&lt;?</span><span class="pln">php  echo </span><span class="pun">(</span><span class="pln"> $msg </span><span class="pun">);</span><span class="pln"> </span><span class="pun">?&gt;</span><span class="pln">
   </span><span class="tag">&lt;/body&gt;</span><span class="pln">

</span><span class="tag">&lt;/html&gt;</span></pre>
        <p>It will produce the following result −</p>
        <pre class="result notranslate">You have visited this page 1in this session.
</pre>
        <h2>Destroying a PHP Session</h2>
        <p>A PHP session  can be destroyed by <b>session_destroy()</b> function. This function does not need any argument and a single call can destroy all the session variables. If you want to destroy a single session variable then you can use <b>unset()</b> function to unset a session variable.</p>
        <p>Here is the example to unset a single variable −</p>
        <pre class="prettyprint notranslate prettyprinted" style=""><span class="pun">&lt;?</span><span class="pln">php
   unset</span><span class="pun">(</span><span class="pln">$_SESSION</span><span class="pun">[</span><span class="str">'counter'</span><span class="pun">]);</span><span class="pln">
</span><span class="pun">?&gt;</span></pre>
        <p>Here is the call which will destroy all the session variables −</p>
        <pre class="prettyprint notranslate prettyprinted" style=""><span class="pun">&lt;?</span><span class="pln">php
   session_destroy</span><span class="pun">();</span><span class="pln">
</span><span class="pun">?&gt;</span></pre>
        <h2>Turning on Auto Session</h2>
        <p>You don't need to call start_session() function to start a session when a user visits your site if you can set <b>session.auto_start</b> variable to 1 in <b>php.ini</b> file.</p>
        <h2>Sessions without cookies</h2>
        <p>There may be a case when a user does not allow to store cookies on their machine. So there is another method to send session ID to the browser.</p>
        <p>Alternatively, you can use the constant SID which is defined if the session started. If the client did not send an appropriate session cookie, it has the form session_name=session_id. Otherwise, it expands to an empty string. Thus, you can embed it unconditionally into URLs.</p>
        <p>The following example demonstrates how to register a variable, and how to link correctly to another page using SID.</p>
         <pre class="prettyprint notranslate prettyprinted" style=""><span class="pun">&lt;?</span><span class="pln">php
   session_start</span><span class="pun">();</span><span class="pln">

   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isset</span><span class="pun">(</span><span class="pln">$_SESSION</span><span class="pun">[</span><span class="str">'counter'</span><span class="pun">]))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      $_SESSION</span><span class="pun">[</span><span class="str">'counter'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
   </span><span class="pun">}</span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      $_SESSION</span><span class="pun">[</span><span class="str">'counter'</span><span class="pun">]++;</span><span class="pln">
   </span><span class="pun">}</span><span class="pln">

   $msg </span><span class="pun">=</span><span class="pln"> </span><span class="str">"You have visited this page "</span><span class="pun">.</span><span class="pln">  $_SESSION</span><span class="pun">[</span><span class="str">'counter'</span><span class="pun">];</span><span class="pln">
   $msg </span><span class="pun">.=</span><span class="pln"> </span><span class="str">"in this session."</span><span class="pun">;</span><span class="pln">

   echo </span><span class="pun">(</span><span class="pln"> $msg </span><span class="pun">);</span><span class="pln">
</span><span class="pun">?&gt;</span><span class="pln">

</span><span class="tag">&lt;p&gt;</span><span class="pln">
   To continue  click following link </span><span class="tag">&lt;br</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">

   &lt;a  href = "nextpage.php?</span><span class="pun">&lt;?</span><span class="pln">php echo htmlspecialchars</span><span class="pun">(</span><span class="pln">SID</span><span class="pun">);</span><span class="pln"> </span><span class="pun">?&gt;</span><span class="pln">"&gt;
</span><span class="tag">&lt;/p&gt;</span></pre>
        <p>It will produce the following result −</p>
        <pre class="result notranslate">You have visited this page 1in this session.
To continue click following link
</pre>
        <p>The <b>htmlspecialchars()</b> may be used when printing the SID in order to prevent XSS related attacks.</p>
        <hr>
    </div></div></div></div></div></div>
</body></html>