<head><link rel="stylesheet" href="style-min.css"></head><head><link rel="stylesheet" href="style-min.css"></head><h1>C++ Templates</h1>
 
<p>Templates are the foundation of generic programming, which involves writing code in a way that is independent of any particular type.</p>
<p>A template is a blueprint or formula for creating a generic class or a function. The library containers like iterators and algorithms are examples of generic programming and have been developed using template concept.</p>
<p>There is a single definition of each container, such as <strong>vector</strong>, but we can define many different kinds of vectors for example, <strong>vector &lt;int&gt;</strong> or <strong>vector &lt;string&gt;</strong>.</p>
<p>You can use templates to define functions as well as classes, let us see how they work &minus;</p>
<h2>Function Template</h2>
<p>The general form of a template function definition is shown here &minus;</p>
<pre class="result notranslate">template &lt;class type&gt; ret-type func-name(parameter list) {
   // body of function
} 
</pre>
<p>Here, type is a placeholder name for a data type used by the function. This name can be used within the function definition.</p>
<p>The following is the example of a function template that returns the maximum of two values &minus;</p>
<pre class="prettyprint notranslate tryit prettyprinted" style="cursor: default;"><span class="com">#include</span> <span class="str">&lt;iostream&gt;</span>
<span class="com">#include</span> <span class="str">&lt;string&gt;</span>

<span class="kwd">using</span> <span class="kwd">namespace</span><span class="pln"> std</span><span class="pun">;</span>

<span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">&gt;</span>
<span class="kwd">inline</span><span class="pln"> T </span><span class="kwd">const</span><span class="pun">&amp;</span> <span class="typ">Max</span> <span class="pun">(</span><span class="pln">T </span><span class="kwd">const</span><span class="pun">&amp;</span><span class="pln"> a</span><span class="pun">,</span><span class="pln"> T </span><span class="kwd">const</span><span class="pun">&amp;</span><span class="pln"> b</span><span class="pun">)</span> <span class="pun">{</span> 
   <span class="kwd">return</span><span class="pln"> a </span><span class="pun">&lt;</span><span class="pln"> b </span><span class="pun">?</span><span class="pln"> b</span><span class="pun">:</span><span class="pln">a</span><span class="pun">;</span> 
<span class="pun">}</span>

<span class="kwd">int</span><span class="pln"> main </span><span class="pun">()</span> <span class="pun">{</span>
   <span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span> <span class="lit">39</span><span class="pun">;</span>
   <span class="kwd">int</span><span class="pln"> j </span><span class="pun">=</span> <span class="lit">20</span><span class="pun">;</span><span class="pln">
   cout </span><span class="pun">&lt;&lt;</span> <span class="str">"Max(i, j): "</span> <span class="pun">&lt;&lt;</span> <span class="typ">Max</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="pln"> j</span><span class="pun">)</span> <span class="pun">&lt;&lt;</span><span class="pln"> endl</span><span class="pun">;</span> 

   <span class="kwd">double</span><span class="pln"> f1 </span><span class="pun">=</span> <span class="lit">13.5</span><span class="pun">;</span> 
   <span class="kwd">double</span><span class="pln"> f2 </span><span class="pun">=</span> <span class="lit">20.7</span><span class="pun">;</span><span class="pln"> 
   cout </span><span class="pun">&lt;&lt;</span> <span class="str">"Max(f1, f2): "</span> <span class="pun">&lt;&lt;</span> <span class="typ">Max</span><span class="pun">(</span><span class="pln">f1</span><span class="pun">,</span><span class="pln"> f2</span><span class="pun">)</span> <span class="pun">&lt;&lt;</span><span class="pln"> endl</span><span class="pun">;</span> 

   <span class="kwd">string</span><span class="pln"> s1 </span><span class="pun">=</span> <span class="str">"Hello"</span><span class="pun">;</span> 
   <span class="kwd">string</span><span class="pln"> s2 </span><span class="pun">=</span> <span class="str">"World"</span><span class="pun">;</span><span class="pln"> 
   cout </span><span class="pun">&lt;&lt;</span> <span class="str">"Max(s1, s2): "</span> <span class="pun">&lt;&lt;</span> <span class="typ">Max</span><span class="pun">(</span><span class="pln">s1</span><span class="pun">,</span><span class="pln"> s2</span><span class="pun">)</span> <span class="pun">&lt;&lt;</span><span class="pln"> endl</span><span class="pun">;</span> 

   <span class="kwd">return</span> <span class="lit">0</span><span class="pun">;</span>
<span class="pun">}</span></pre>
<p>If we compile and run above code, this would produce the following result &minus;</p>
<pre class="result notranslate">Max(i, j): 39
Max(f1, f2): 20.7
Max(s1, s2): World
</pre>
<h2>Class Template</h2>
<p>Just as we can define function templates, we can also define class templates. The general form of a generic class declaration is shown here &minus;</p>
<pre class="result notranslate">template &lt;class type&gt; class class-name {
   .
   .
   .
}
</pre>
<p>Here, <strong>type</strong> is the placeholder type name, which will be specified when a class is instantiated. You can define more than one generic data type by using a comma-separated list.</p>
<p>Following is the example to define class Stack&lt;&gt; and implement generic methods to push and pop the elements from the stack &minus;</p>
<pre class="prettyprint notranslate tryit prettyprinted" style="cursor: default;"><span class="com">#include</span> <span class="str">&lt;iostream&gt;</span>
<span class="com">#include</span> <span class="str">&lt;vector&gt;</span>
<span class="com">#include</span> <span class="str">&lt;cstdlib&gt;</span>
<span class="com">#include</span> <span class="str">&lt;string&gt;</span>
<span class="com">#include</span> <span class="str">&lt;stdexcept&gt;</span>

<span class="kwd">using</span> <span class="kwd">namespace</span><span class="pln"> std</span><span class="pun">;</span>

<span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">class</span><span class="pln"> T</span><span class="pun">&gt;</span>
<span class="kwd">class</span> <span class="typ">Stack</span> <span class="pun">{</span> 
   <span class="kwd">private</span><span class="pun">:</span><span class="pln"> 
      vector</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;</span><span class="pln"> elems</span><span class="pun">;</span>    <span class="com">// elements </span>

   <span class="kwd">public</span><span class="pun">:</span> 
      <span class="kwd">void</span><span class="pln"> push</span><span class="pun">(</span><span class="pln">T </span><span class="kwd">const</span><span class="pun">&amp;);</span>  <span class="com">// push element </span>
      <span class="kwd">void</span><span class="pln"> pop</span><span class="pun">();</span>               <span class="com">// pop element </span><span class="pln">
      T top</span><span class="pun">()</span> <span class="kwd">const</span><span class="pun">;</span>            <span class="com">// return top element </span>
      
      <span class="kwd">bool</span><span class="pln"> empty</span><span class="pun">()</span> <span class="kwd">const</span> <span class="pun">{</span>      <span class="com">// return true if empty.</span>
         <span class="kwd">return</span><span class="pln"> elems</span><span class="pun">.</span><span class="pln">empty</span><span class="pun">();</span> 
      <span class="pun">}</span> 
<span class="pun">};</span> 

<span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">class</span><span class="pln"> T</span><span class="pun">&gt;</span>
<span class="kwd">void</span> <span class="typ">Stack</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;::</span><span class="pln">push </span><span class="pun">(</span><span class="pln">T </span><span class="kwd">const</span><span class="pun">&amp;</span><span class="pln"> elem</span><span class="pun">)</span> <span class="pun">{</span> 
   <span class="com">// append copy of passed element </span><span class="pln">
   elems</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">elem</span><span class="pun">);</span>    
<span class="pun">}</span> 

<span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">class</span><span class="pln"> T</span><span class="pun">&gt;</span>
<span class="kwd">void</span> <span class="typ">Stack</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;::</span><span class="pln">pop </span><span class="pun">()</span> <span class="pun">{</span> 
   <span class="kwd">if</span> <span class="pun">(</span><span class="pln">elems</span><span class="pun">.</span><span class="pln">empty</span><span class="pun">())</span> <span class="pun">{</span> 
      <span class="kwd">throw</span><span class="pln"> out_of_range</span><span class="pun">(</span><span class="str">"Stack&lt;&gt;::pop(): empty stack"</span><span class="pun">);</span> 
   <span class="pun">}</span>
   
   <span class="com">// remove last element </span><span class="pln">
   elems</span><span class="pun">.</span><span class="pln">pop_back</span><span class="pun">();</span>         
<span class="pun">}</span> 

<span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">class</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln">
T </span><span class="typ">Stack</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;::</span><span class="pln">top </span><span class="pun">()</span> <span class="kwd">const</span> <span class="pun">{</span> 
   <span class="kwd">if</span> <span class="pun">(</span><span class="pln">elems</span><span class="pun">.</span><span class="pln">empty</span><span class="pun">())</span> <span class="pun">{</span> 
      <span class="kwd">throw</span><span class="pln"> out_of_range</span><span class="pun">(</span><span class="str">"Stack&lt;&gt;::top(): empty stack"</span><span class="pun">);</span> 
   <span class="pun">}</span>
   
   <span class="com">// return copy of last element </span>
   <span class="kwd">return</span><span class="pln"> elems</span><span class="pun">.</span><span class="pln">back</span><span class="pun">();</span>      
<span class="pun">}</span> 

<span class="kwd">int</span><span class="pln"> main</span><span class="pun">()</span> <span class="pun">{</span> 
   <span class="kwd">try</span> <span class="pun">{</span>
      <span class="typ">Stack</span><span class="str">&lt;int&gt;</span><span class="pln">         intStack</span><span class="pun">;</span>  <span class="com">// stack of ints </span>
      <span class="typ">Stack</span><span class="str">&lt;string&gt;</span><span class="pln"> stringStack</span><span class="pun">;</span>    <span class="com">// stack of strings </span>

      <span class="com">// manipulate int stack </span><span class="pln">
      intStack</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="lit">7</span><span class="pun">);</span><span class="pln"> 
      cout </span><span class="pun">&lt;&lt;</span><span class="pln"> intStack</span><span class="pun">.</span><span class="pln">top</span><span class="pun">()</span> <span class="pun">&lt;&lt;</span><span class="pln">endl</span><span class="pun">;</span> 

      <span class="com">// manipulate string stack </span><span class="pln">
      stringStack</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="str">"hello"</span><span class="pun">);</span><span class="pln"> 
      cout </span><span class="pun">&lt;&lt;</span><span class="pln"> stringStack</span><span class="pun">.</span><span class="pln">top</span><span class="pun">()</span> <span class="pun">&lt;&lt;</span><span class="pln"> std</span><span class="pun">::</span><span class="pln">endl</span><span class="pun">;</span><span class="pln"> 
      stringStack</span><span class="pun">.</span><span class="pln">pop</span><span class="pun">();</span><span class="pln"> 
      stringStack</span><span class="pun">.</span><span class="pln">pop</span><span class="pun">();</span> 
   <span class="pun">}</span> <span class="kwd">catch</span> <span class="pun">(</span><span class="pln">exception </span><span class="kwd">const</span><span class="pun">&amp;</span><span class="pln"> ex</span><span class="pun">)</span> <span class="pun">{</span><span class="pln"> 
      cerr </span><span class="pun">&lt;&lt;</span> <span class="str">"Exception: "</span> <span class="pun">&lt;&lt;</span><span class="pln"> ex</span><span class="pun">.</span><span class="pln">what</span><span class="pun">()</span> <span class="pun">&lt;&lt;</span><span class="pln">endl</span><span class="pun">;</span> 
      <span class="kwd">return</span> <span class="pun">-</span><span class="lit">1</span><span class="pun">;</span>
   <span class="pun">}</span> 
<span class="pun">}</span> </pre>
<p>If we compile and run above code, this would produce the following result &minus;</p>
<pre class="result notranslate">7
hello
Exception: Stack&lt;&gt;::pop(): empty stack
</pre>